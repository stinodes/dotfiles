#!/bin/bash

function installed {
    stn-is-installed zsh
}

function install {
    sudo pacman -S --noconfirm zsh 
    sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended --keep-zshrc 
    curl -sS https://starship.rs/install.sh > starship.sh
    sh starship.sh --yes 
    rm starship.sh
}

function uninstall {
    sudo pacman -R --noconfirm zsh
    sh ~/.oh-my-zsh/tools/uninstall.sh
    sudo sh -c 'rm "$(command -v 'starship')"'
}

function setup {
    zsh=$HOME/.zshrc
    starship=$HOME/.config/starship.toml
    stn-backup $zsh
    stn-backup $starship
    ln -nsf $STN_CONFIG_DIR/.zshrc $HOME/.zshrc
    ln -nsf $STN_CONFIG_DIR/starship.toml $HOME/.config/starship.toml
}
